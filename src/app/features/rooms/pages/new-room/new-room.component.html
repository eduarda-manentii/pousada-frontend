<app-header></app-header>

<div class="container py-5" *ngIf="roomForm">
  <h2 class="mb-4 text-secondary-custom">
    {{ roomId ? 'Editar Quarto' : 'Cadastro de Quarto' }}
  </h2>

  <form [formGroup]="roomForm">
    <div class="row g-3 mb-3">
      <div class="col-md-6">
        <label class="form-label" [appRequiredMarker]="true">Nome do Quarto</label>
        <input class="form-control" formControlName="nome" type="text" />
      </div>

      <div class="col-md-6">
        <label class="form-label" [appRequiredMarker]="true">Valor da Diária (R$)</label>
        <input class="form-control" formControlName="valorDiaria" type="number" step="0.01" />
      </div>
    </div>

    <div class="mb-3">
        <label class="form-label" [appRequiredMarker]="true">Fotos do Quarto</label>
        <input class="form-control" type="file" (change)="onFileChange($event)" multiple />
    </div>

    <div class="row g-3 mb-3">
      <div class="col-md-4">
        <label class="form-label" [appRequiredMarker]="true">Camas de Casal</label>
        <input class="form-control" formControlName="quantidadeCamasCasal" type="number" min="0" />
      </div>

      <div class="col-md-4">
        <label class="form-label" [appRequiredMarker]="true">Camas de Solteiro</label>
        <input class="form-control" formControlName="quantidadeCamasSolteiro" type="number" min="0" />
      </div>

      <div class="col-md-4">
        <label class="form-label" [appRequiredMarker]="true">Capacidade Máxima</label>
        <input class="form-control" formControlName="capacidadeMaxima" type="number" min="1" />
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Mais Informações</label>
      <textarea class="form-control" formControlName="maisInformacoes" rows="3"></textarea>
    </div>

    <div class="mb-4">
      <label class="form-label d-block">Amenidades</label>
      <div class="form-check form-check-inline" *ngFor="let item of amenidadesDisponiveis">
        <input
          class="form-check-input"
          type="checkbox"
          [checked]="roomForm.value.amenidades.includes(item)"
          (change)="toggleAmenidade(item)"
          [id]="item"
        />
        <label class="form-check-label" [for]="item">{{ item }}</label>
      </div>
    </div>

    <div class="d-flex gap-3">
      <button type="button" class="btn btn-primary-custom" (click)="onSubmit()">Salvar</button>
      <button type="button" class="btn btn-outline-secondary" (click)="goBack()">Cancelar</button>
    </div>
  </form>
  
</div>
